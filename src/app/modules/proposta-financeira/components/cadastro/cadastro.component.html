<mat-card class="mat-elevation-z4 base-card">
  <form [formGroup]="cadastroForm">
    <div class="responsive-container-row">
      <mat-form-field floatLabel="auto" class="responsive-input">
        <mat-label>Nome</mat-label>
        <input matInput type="text" id="nome" formControlName="nome" required />
        <mat-error class="input-error">{{ getError("nome") }}</mat-error>
      </mat-form-field>

      <mat-form-field floatLabel="auto" class="responsive-input">
        <mat-label>Sobrenome</mat-label>
        <input
          matInput
          type="text"
          id="sobrenome"
          formControlName="sobrenome"
          required
        />
        <mat-error class="input-error">{{ getError("sobrenome") }}</mat-error>
      </mat-form-field>
    </div>

    <div class="responsive-container-column">
      <mat-form-field class="responsive-input">
        <mat-label>Email</mat-label>
        <input
          matInput
          type="email"
          id="email"
          formControlName="email"
          required
          placeholder="Ex. exemplo@email.com"
        />
        <mat-error class="input-error">{{ getError("email") }}</mat-error>
      </mat-form-field>

      <mat-form-field floatLabel="auto" class="responsive-input">
        <mat-label>Telefone</mat-label>
        <span matTextPrefix>+55 &nbsp;</span>
        <input
          matInput
          type="text"
          id="telefone"
          formControlName="telefone"
          required
          placeholder="(11) 99999-9999"
          mask="(00) 00000-0000"
        />
        <mat-error class="input-error">{{ getError("telefone") }}</mat-error>
      </mat-form-field>

      <mat-form-field floatLabel="auto" class="responsive-input">
        <mat-label>CPF</mat-label>
        <input
          matInput
          type="text"
          id="cpf"
          formControlName="cpf"
          required
          placeholder="012.345.678-10"
          mask="000.000.000-00"
        />
        <mat-error class="input-error">{{ getError("cpf") }}</mat-error>
      </mat-form-field>
    </div>

    <div class="responsive-container-row">
      <mat-form-field floatLabel="always" class="responsive-input">
        <mat-label>Renda</mat-label>
        <input
          matInput
          type="number"
          id="renda"
          formControlName="renda"
          required
          class="right-align"
          placeholder="0"
        />
        <span matTextPrefix>R$&nbsp;</span>
        <span matTextSuffix>,00</span>
        <mat-error class="input-error">{{ getError("renda") }}</mat-error>
      </mat-form-field>

      <mat-form-field floatLabel="always" class="responsive-input">
        <mat-label>Valor Solicitado</mat-label>
        <input
          matInput
          type="number"
          id="valorSolicitado"
          formControlName="valorSolicitado"
          required
          class="right-align"
          placeholder="0"
        />
        <span matTextPrefix>R$&nbsp;</span>
        <span matTextSuffix>,00</span>
        <mat-error class="input-error">{{
          getError("valorSolicitado")
        }}</mat-error>
      </mat-form-field>
    </div>

    <div class="prazo-pagamento-container">
      <label>Prazo de Pagamento</label>
      <label>{{ prazoPagamento.value }} meses</label>
    </div>

    <mat-slider discrete min="1" max="48" class="responsive-input">
      <input
        matSliderThumb
        value="24"
        id="prazoPagamento"
        formControlName="prazoPagamento"
        #prazoPagamento
      />
    </mat-slider>
  </form>

  <div class="button-container">
    <button
      mat-stroked-button
      class="button-cancelar"
      (click)="goBack()"
      [disabled]="isSaving"
    >
      Cancelar
    </button>
    <button
      mat-flat-button
      class="button-salvar"
      (click)="postProposta()"
      type="submit"
      [disabled]="isSaving"
      color="primary"
    >
      Salvar
    </button>
  </div>

  @if (isSaving) {
  <div class="progress-bar-container">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </div>
  }
</mat-card>
